# SONSHIガチャ 開発指示書

## プロジェクト概要

「SONSHIガチャ」は、デジタルカードのガチャサイトです。
「尊師」と呼ばれる人物とその仲間たちの顔写真をモチーフにした
デジタルカードをガチャで引けるエンタメサイトです。

同じ開発者が開発した「UMA ROYALE」（umagacha フォルダ）を参考にしてください。
基本的なガチャの仕組み、認証、決済などの構造はUMA ROYALEを踏襲しつつ、
新しい機能を追加した別プロジェクトとして構築します。

参考リポジトリ: https://github.com/jinjinsansan/umagacha
本番参考サイト: https://umaroyale.com/

## 技術スタック

- フレームワーク: Next.js (App Router)
- ホスティング: Vercel
- データベース・認証: Supabase (PostgreSQL + Auth)
- ストレージ（映像・カード画像）: Cloudflare R2
- メール: Resend
- 決済: one.lat（暗号資産決済）

## UIデザインコンセプト

パチスロホール（ゲームセンター）をイメージしたUIにしてください。
UMA ROYALEはダーク×ゴールドの高級カジノ風でしたが、
SONSHIガチャは以下のイメージです：

- パチスロホールの雰囲気（ネオン、光、派手さ、ワクワク感）
- 暗い空間の中にネオンカラーが映える
- 背景はダーク（黒〜ダークグレー）
- アクセントカラーはネオン系（ネオンピンク、ネオンブルー、ネオンイエローなど）
- 筐体っぽいフレーム、スロットマシン風のUI要素
- 光の反射、グロー効果
- 文字は太くて派手、パチスロの告知ポスター風
- ボタンは大きくて押したくなるデザイン
- 全体的に「この店に入ったらガチャを回さずにはいられない」という中毒性

## 開発の進め方

1. このフォルダ（sonshigacha）でNext.jsプロジェクトをセットアップ
2. UMA ROYALEのプロジェクト構造を参考にする（../umagacha を参照）
3. docs/DATABASE.md のテーブル定義でSupabaseをセットアップ
4. docs/FEATURES.md の機能一覧に沿って実装
5. docs/PAGES.md のページ構成で画面を作る

## 重要な注意点

- UMA ROYALEのコードは参考にするが、コピーではなく新規プロジェクトとして作る
- 環境変数は .env.local.example を作成し、必要なキーを記載する
- Supabaseの設定はマイグレーションファイルとして管理する
- モバイルファースト（9:16の縦型映像に最適化）
- パフォーマンスを重視（映像の遅延読み込みなど）
